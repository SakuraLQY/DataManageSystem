# 数据统计

## 数据汇总

### 1.多日分时数据

#### 筛选条件：

- 广告列表（各区服游戏名）
- 游戏项目
- 游戏名称
- 渠道类型、渠道名称、二级渠道
- 起始日期-结束日期
- 常用日期-可以查询今天、昨天、最近三天、最近一周、最近两周
- 对比维度：点击数、激活数、注册数、付费总额、新用户付费总额、DAU、留存

#### 根据选中的对比维度查询数据

| **日期**  | **汇总** | **0时** | **23时** |
| --------- | -------- | ------- | -------- |
|           | 2        | 1       | 1        |
| 2023-4-18 | 4        | 2       | 2        |
| 总数      | 6        | 3       | 3        |

**日期**：显示查询日期的数据

**汇总**：对0-23时的数据进行累加

**总数**：对某一时刻的数据进行累加，从上到下

**0-23时的激活数**：统计每小时用户激活的数量（用户成功安装并启动应用程序）（count_active字段）

**0-23时的注册数**：统计每小时用户账号注册的数量（产生了对应的user_id)（count_user字段)

**0-23时的付费总额**：：统计每小时所有用户付费的金额（ total_money）

**0-23时新用户的付费总额** ：统计每小时所有新用户付费的金额( first_money)

**0-23时DAU数据** :每一小时有多少用户在线登陆过的用户数量(count_dau)

**0-23时N日留存** ：指的是**每一小时中**新增用户日之后的第N日依然登陆的用户占新增用户的比例(loyal)

**第1日留存率**（即“次留”）：**0-23时中（当天新增的用户中，新增日之后的第1天还登录的用户数）/第一天新增总用户数；****第3日留存率**：**（0-23时中当天新增的用户中，新增日之后的第3天还登录的用户数）/第一天新增总用户数；**

```plain
# 伪SQL查询对应的留存

#这个查询语句的意思是，首先找出所有在2023-04-20这一天首次登录的用户，并记录下他们的用户ID和首次登录时间。然后，将这个结果与原始用户表（user表）连接，找出在首次登录后的第二天登录过的用户，并计算出这些用户的数量。最后，将这些用户的数量除以首次登录用户的数量，即可得到次日留存率。

#需要注意的是，这个查询语句只计算了首次登录时间在2023-04-20这一天的用户的留存率。如果需要计算其他日期的留存率，只需要将WHERE子句中的日期改为相应的值即可。另外，如果需要计算其他天数的留存率，只需要将DATEDIFF函数中的参数改为相应的天数即可。
SELECT COUNT(DISTINCT b.user_id) / COUNT(DISTINCT a.user_id) AS retention_rate
FROM (
    SELECT user_id, MIN(login_time) AS first_login_time
    FROM user
    GROUP BY user_id
) a
JOIN user b ON a.user_id = b.user_id AND DATEDIFF(b.login_time, a.first_login_time) = 1
WHERE DATE(a.first_login_time) = '2023-04-20'
```

### 2.多日分时分析数据

![img](https://cdn.nlark.com/yuque/0/2023/png/32645374/1682063436793-f28dc5d0-1cf7-4dbb-bcf2-c268ed718627.png)

![img](https://cdn.nlark.com/yuque/0/2023/png/32645374/1682063437845-664b3354-8973-4c61-adc2-408acd860668.png)

#### 筛选条件：

- 广告列表
- 广告计划
- 游戏项目
- 游戏名称
- 渠道类型、渠道名称、二级渠道
- 起始日期-结束日期
- 常用日期：今天 昨天 最近三天 最近一周 最近两周

根据上述条件筛选后进行查询

#### 需要查询出的数据

展示0-23时的点击数、点击设备数、激活数、激活设备数、注册数、注册设备数、新增付费人数、新增付费金额、累计付费金额、活跃付费人数u、活跃付费金额、DAU、N日留存

**0-23时的激活数**：统计每小时用户激活的数量（用户成功安装并首次启动应用程序）

**0-23时的激活设备数**：统计每小时玩家成功安装并启动应用程序的唯一设备数量

举个例子，如果一个用户在同一台设备上安装并启动了一个应用程序两次，那么激活数为2，但是激活设备数为1，因为只有一台设备进行了安装和启动操作。

**0-23时注册数：**统计每小时用户账号注册的数量（产生了对应的user_id)

**0-23时注册设备数：**统计每小时用户根据唯一设备id账号注册的数量（device_id唯一）

**0-23时新增付费人数：**统计每小时首次付费用户的数量

**0-23时新增付费金额：**统计每小时的首次付费人数的金额数量

**0-23时活跃付费人数：**统计每小时至少付费过一次玩家的人数，即付费次数大于1的玩家人数

**0-23时活跃付费金额：**统计每小时至少付费过一次玩家的金额数，即付费次数大于1的玩家金额

**0-23时累计付费金额**：统计每小时内所有付费用户产生的付费金额总和

**0-23时DAU数据** :每一小时有多少用户在线登陆过的用户数量

**0-23时N日留存** ：指的是**每一小时中**新增用户日之后的第N日依然登陆的用户占新增用户的比例

**汇总**：0-23时各项数据的累加，如点击数24小时的总数等

### 3.单日分时数据

#### 筛选条件

- 广告列表
- 广告计划
- 游戏项目、游戏名称、游戏包名
- 渠道类型、渠道名称、二级渠道
- 查询日期（只限一天）
- 账号人员：可选（管理员....）

#### 需要查询展示的数据

展示0-23时的点击数、点击设备数、激活数、激活设备数、注册数、注册设备数、新增付费人数、新增付费金额、累计付费金额、活跃付费人数u、活跃付费金额、DAU、N日留存

**0-23时的点击数**：统计每小时用户的点击数量（比如点击广告页或者点击广告链接）

**0-23时的点击设备数**：统计每小时用户在手机或者平板设备上进行点击的数量（**就是点击链接或者广告的唯一设备数量**），**同一用户在同一设备上点击一个链接两次，点击数为2，点击设备数算1**

**0-23时的激活数**：统计每小时用户激活的数量（用户成功安装并首次启动应用程序）

**0-23时的激活设备数**：统计每小时玩家成功安装并启动应用程序的唯一设备数量

举个例子，如果一个用户在同一台设备上安装并启动了一个应用程序两次，那么激活数为2，但是激活设备数为1，因为只有一台设备进行了安装和启动操作。

**0-23时注册数：**统计每小时用户账号注册的数量（产生了对应的user_id)

**0-23时注册设备数：**统计每小时用户根据唯一设备id账号注册的数量（device_id唯一）

**0-23时新增付费人数：**统计每小时首次付费用户的数量

**0-23时新增付费金额：**统计每小时的首次付费人数的金额数量

**0-23时活跃付费人数：**统计每小时至少付费过一次玩家的人数，即付费次数大于1的玩家人数

**0-23时活跃付费金额：**统计每小时至少付费过一次玩家的金额数，即付费次数大于1的玩家金额

**0-23时累计付费金额**：统计每小时内所有付费用户产生的付费金额总和

**0-23时DAU数据** :每一小时有多少用户在线登陆过的用户数量（如果一个用户在同一小时多次登陆也只能算一次）

**0-23时N日留存** ：指的是**每一小时中**新增用户日之后的第N日依然登陆的用户占新增用户的比例

**汇总**：0-23时各项数据的累加，如点击数24小时的总数等

### 4.今日汇总

![img](https://cdn.nlark.com/yuque/0/2023/png/32645374/1682063437793-8d1501de-5460-4e3b-bdfa-c3fb9a0ae4ea.png)

#### 筛选条件

- 广告列表
- 广告计划
- 游戏项目、游戏名称、游戏包名
- 渠道类型、渠道名称、二级渠道
- 查询日期（具体某一天）

#### 需要查询展示的数据

查询对应的ct_hour表

**1.当天数据**

**充值金额**：（当天、前一天）用户充值的金额数据      = （total_money)

​			**0-23时充值金额：**每小时当前用户充值金额的数据

**充值人数：**查询当天充值记录中的用户数量 = (total_payuser)

**新增充值人数：**统计当天新用户中充值的用户数量 = (first_payuser)

**新增账号：新注册成功并创建账号**的用户数量 = (first_user)

**在线人数：**统计当天服务器后台中用户登陆的人数（确定统计的时间段24小时，确定用户的唯一标识、统计登陆的用户数，同一用户多次登陆只算一次） = (count_dau_dev)

**2.VS昨日的数据的比值计算**

- （当天的充值金额-前一天的充值金额）/前一天充值金额
- （当天的充值人数-前一天的充值人数）/前一天充值人数
- （当天的新增充值人数-前一天的新增充值人数）/前一天新增充值人数
- （当天的新增账号-前一天的新增账号）/前一天新增账号
- （当天的在线人数-前一天的在线人数）/前一天在线人数

### 5.数据总表

![img](https://cdn.nlark.com/yuque/0/2023/png/32645374/1682063437804-5aff45fe-d0e5-4068-87a1-829b539b8f2b.png)

#### 筛选条件

- 游戏项目、游戏名称、游戏包名
- 渠道类型、渠道名称、二级渠道
- 广告计划、广告编号
- 投放账号、投放素材
- 注册日期、结束日期
- 付费日期、结束日期
- 归类方式(全部、按广告、按游戏、按子游戏、按渠道、按子渠道、按投放账号、按投放素材、按广告计划、按广告标签)
- 成本平台（IOS、Android）
- 展示平台币（关闭、开启）
- 账号人员

#### 需查询展示的数据计算

使用ct_daily表

**名称：**根据归类方式查询出的名字

**激活：**统计玩家首次安装成功并启动应用程序的数量(count_active)

**激活设备数：**根据**设备号id**统计玩家成功安装并启动应用程序的(count_active_dev)

**注册数：**用户注册了账号，统计对应的userId = (count_user)

**注册设备数**：根据唯一的设备号ID，来计算对应的userId的数量 = (count_user_dev)

**有效注册数：**用户创建了用户角色的数量 = (count_valid_user)

**激活注册率**：（注册数/激活设备数）% = (count_user/count_active_dev)

**注册单价：**成本/新注册用户数，其中花费指游戏吸引新用户的市场营销活动或广告费用的开支，比如如果广告费1000，这段时间注册了100个用户，则单价为10元/个

**首日付费额**：指**用户首次安装并登陆游戏后**，当天产生的付费金额之和即**当天的所有付费金额之和**； = (first_money)

**首日付费单价**：首日付费额/首日付费人数 = (first_money/first_payuser)

**首日回款率：**（首日付费额/当天的总收入）%（指用户首次安装并登陆游戏后，当天付费金额所占比例） = (first_money/total_money)

**首日付费人数：**当天用户首次安装并登录游戏后，进行购买游戏道具的用户数量 = (first_payuser)

**首日付费率：**（首日付费人数/当天登陆用户数）*100%   = (frist_payuser/count_user)

**首日付费单价：**首日付费额/首日付费人数 (指用户首次登录游戏后，当天内的付费均价。) = (first_money/frist_pay_user)

**首日ARPU:**当天内的总收入/当天首次登陆的用户数 (指用户首次登录游戏后，当天内的平均收入） = (total_money/count_user)

**首日ARPPU:**首日付费额/当天首次登陆付费的用户数（指用户首次登录游戏后，当天内的平均付费收入） = (first_money/first_payuser)

**首日付费次数：**当天内用户的付费次数（指用户首次登陆游戏后，当天内游戏消费的次数） = (first_order) 

**首日付费次数单价：**首日付费额/首日付费次数（指用户首次登陆游戏后，当天每次付费的平均金额） = (first_money/first_order)

**老用户付费率：**（当日老用户付费人数 / 当日老用户总数）*100% = （alive_payuser-first_pay_user)/(count_dau_dev-count_user_dev)

**老用户arpu**：当日老用户收入 / 当日老用户总数 = (alive_money-first_money)/(count_dau_dev-count_user_dev))

**老用户arppu**：当日老用户付费额 / 当日老用户付费人数 = (alive_money-first_money)/(alive_payuser-first_payuser)

\-----------

**周期付费额**：当周内所有收入的总和

**周期回本率：**(当周收入-当周的成本)/当周的成本*100%

**周期付费人数：**当周付费的用户玩家人数

**周期付费率**：（当周付费用户/当周活跃用户）*100%

**ARPU(周期)**：当周充值总额/当周用户数量

**ARPPU(周期)**：当周充值总额/当周付费用户数量

\----------

**累计付费额**：从查询日期范围开始的游戏的总收入 = (total_money)

**累计回本率**：（从指定查询日期范围内的累计总收入-累计的成本）/累计成本）*100%

**累计付费人数：**从指定日期范围开始付费的用户人数  = (total_pay_user)

**ARPU（累积）**：（指定日期范围）累计付费额 / 总用户数 = (total_money/count_user)

**ARPPU(累积)**：（指定日期范围）累计付费额 / 累计付费人数 = (total_money/total_pay_user）

**DAU**：当天登录的游戏用户数（按设备号去重） = (count_dau_dev)

**活跃付费人数**：当天至少消费一次的活跃用户人数 = (alive_payuser)

**活跃付费次数**：当天内活跃用户的付费总次数 = (alive_order)

**活跃订单均值**：当天内活跃用户的付费总金额 / 当活跃付费次数（活跃用户当天内的平均订单金额）(alive_money/alive_order)

**N日留存**：在第N天仍然使用应用的用户数/第一天注册的用户数

```sql
SELECT COUNT(DISTINCT b.user_id) / COUNT(DISTINCT a.user_id) AS retention_rate
FROM (
    SELECT user_id, MIN(login_time) AS first_login_time
    FROM user
    GROUP BY user_id
) a
JOIN user b ON a.user_id = b.user_id AND DATEDIFF(b.login_time, a.first_login_time) = 1
WHERE DATE(a.first_login_time) = '2023-04-20'
```

**LTV：**ARPU * 平均生命周期（平均生命周期是指第几天）

### 6.渠道数据明细

![img](https://cdn.nlark.com/yuque/0/2023/png/32645374/1682063437359-41bae6f2-0427-4600-900c-a898a9b42f75.png)

#### 筛选条件

- 游戏项目、游戏名称
- 渠道类型、渠道名称（平台、OPPO-联运，VIVO-联运...)
- 起始日期-结束日期
- 常用日期：今天 昨天 最近三天 最近一周 最近两周
- 展示方式(详细数据、整合数据)

#### 需要查询展示的数据

查询ct_daily

**日期：**查询出的数据在起始日期和结束日期中的一天

**游戏名：**游戏的名字 = game_id;

**子游戏**：游戏中二级目录 = sub_game_id;

**渠道：**根据渠道名称中查询出来 = channel_id

**激活：**统计玩家首次安装成功并启动应用程序的数量 = count_active

**激活设备数：**根据**设备号id**统计玩家成功安装并启动应用程序的 = count_active_dev

**注册数：**用户注册了账号，统计对应的userId = count_user

**注册设备数**：根据唯一的设备号ID，来计算对应的userId的数量 = count_user_dev

**有效注册数：**用户创建了用户角色的数量 =(count_valid_user)

**激活注册率**：（注册数/激活设备数）% = (count_user/count_active_dev)

**新增付费人数：**统计某一时期首次付费用户的数量 = (first_payuser)

**新增付费金额：**统计某一时期首次付费人数的金额数量 = (first_money)

**新增付费率：**当期新增用户中有付费行为的人数 / 当期新增用户总数 = (first_payuser/count_user)

**新增ARPU**：当期新用户充值金额/当期新用户的数量 = (first_money/count_user)

**新增ARPPU**:当期新用户充值金额/当期新用户充值人数 = (first_money/first_payuser)

**老用户付费人数**：当期非新增用户中有付费行为的人数（在某一时期内非首日登录的老用户中，参加付费活动，进行的付费的用户数量） = (alive_payuser-first_payuser))

**老用户付费金额**：当期非新增用户的付费总额 = (alive_money-first_money)

**老用户付费率：**（当日老用户付费人数 / 当日老用户总数）*100% = (alive_payuser-first_payuser)/(count_dau_dev-count_user_dev)

**老用户arpu**：当日老用户收入 / 当日老用户总数 = (alive_money-first_money)/(count_dau_dev-count_user_dev))

**老用户arppu**：当日老用户付费额 / 当日老用户付费人数 = (alive_money-first_money)/(alive_payuser-first_payuser)

**累计付费额**：从查询日期范围开始的游戏的总收入 = (total_money)

**DAU**：当天登录的游戏用户数（按设备号去重） = (count_dau_dev)

**活跃付费人数**：当天至少消费一次的活跃用户人数 = (alive_payuser)

**活跃付费次数**：当天内活跃用户的付费总次数 = (alive_order)

**ARPU**:用户的付费金额/用户人数 = (total_money/count_user)

**ARPPU**:用户付费金额/付费用户人数 = (total_money/total_payuser)

**总付费率**：总付费人数/总注册人数 = (total_payuser/count_user)

**N日留存**：在第N天仍然使用应用的用户数/第一天注册的用户数

**LTV：**ARPU * 平均生命周期

### 7.广告数据明细

![img](https://cdn.nlark.com/yuque/0/2023/png/32645374/1682063438946-bf2ee7e9-e27f-463a-ad2f-61e962ebd7c8.png)

#### 筛选条件：

- 游戏项目、游戏名称
- 渠道名称、二级渠道
- 广告列表
- 起始日期-结束日期 今天 昨天 最近三天 最近一周 最近两周
- 展示方式（详细数据、整合数据）

#### 需要查询出的数据：

**日期：**查询出的数据在起始日期和结束日期中的一天

**广告ID：**广告的字段Id= deal_id

**子游戏名**：子游戏的名字 = sub_game_id

**渠道名：**根据渠道名称中查询出来 = channel_id

**广告名：**广告ID对应的广告名称 

**激活：**统计玩家首次安装成功并启动应用程序的数量 = count_active

**激活设备数：**根据**设备号id**统计玩家成功安装并启动应用程序的 = count_active_dev

**注册数：**用户注册了账号，统计对应的userId= (count_user)

**注册设备数**：根据唯一的设备号ID，来计算对应的userId的数量 = (count_user_dev)

**有效注册数：**用户创建了用户角色的数量 = (count_valid_user)

**激活注册率**：（注册数/激活设备数）% = (count_user/count_active_dev)

**新增付费人数：**统计某一时期首次付费用户的数量 = (first_payuser)

**新增付费金额：**统计某一时期首次付费人数的金额数量 = (first_money)

**新增付费率：**当期新增用户中有付费行为的人数 / 当期新增用户总数 = (first_payuser/count_user)

**新增ARPU**：当期新用户充值金额/当期新用户的数量 = (first_money/count_user)

**新增ARPPU**:当期新用户充值金额/当期新用户充值人数 = (first_money/first_payuser)

**老用户付费人数**：当期非新增用户中有付费行为的人数（在某一时期内非首日登录的老用户中，参加付费活动，进行的付费的用户数量）(alive_payuser-first_payuser))

**老用户付费金额**：当期非新增用户的付费总额 = (alive_money-first_money)

**老用户付费率：**（当日老用户付费人数 / 当日老用户总数）*100% = (alive_payuser-first_payuser)/(count_dau_dev-count_user_dev)

**老用户arpu**：当日老用户收入 / 当日老用户总数 = (alive_money-first_money)/(count_dau_dev-count_user_dev))

**老用户arppu**：当日老用户付费额 / 当日老用户付费人数 = (alive_money-first_money)/(alive_payuser-first_payuser)

**累计付费额**：从查询日期范围开始的游戏的总收入 = (total_money)

**DAU**：当天登录的游戏用户数（按设备号去重） = count_dau_dev

**活跃付费人数**：当天至少消费一次的活跃用户人数 = alive_payuser

**活跃付费次数**：当天内活跃用户的付费总次数 = alive_order

**ARPU**:用户的付费金额/用户人数 = (total_money/count_user)

**ARPPU**:用户付费金额/付费用户人数 = (total_money/total_payuser)

**总付费率**：总付费人数/总注册人数 = (total_payuser/count_user)

**N日留存**：在第N天仍然使用应用的用户数/第一天注册的用户数

**LTV：**ARPU * 平均生命周期

### 8.游戏收入汇总

![img](https://cdn.nlark.com/yuque/0/2023/png/32645374/1682063439053-79d7dd22-bbb2-4594-9cd5-a7072041abed.png)

#### 需要查询展示的数据

使用数据表ct_daily

**游戏名：**根据游戏id查出游戏名 = game_id

**子游戏名：**根据子游戏id查出字游戏名 = sub_game_id

**注册用户：**指定游戏下的子游戏下的全部注册用户 = count_user

**充值总额：**指定该游戏下的总付费金额 = total_money

**ARPU:**充值金额/注册用户 = total_money/count_user

### 9.投放数据

![img](https://cdn.nlark.com/yuque/0/2023/png/32645374/1682063440199-1b77422d-154e-466a-b286-81134927569a.png)

#### 筛选条件：

- 游戏选择、字游戏、游戏包
- 渠道类型、渠道、渠道子账号
- 广告编号
- 投放账号
- 投放素材
- 注册日期（从xxx至xxx） 今天 昨天 最近三天 最近一周 最近两周
- 付费日期 (从XXX至xxx)
- 归类方式：（全部、按广告、按渠道、按游戏、按子游戏、按游戏包、按渠道子账号分类、按投放账号、按投放素材、按广告标签）

#### 需要查询展示的数据计算

使用数据表ct_daily

**ID**:对应的归类方式的id

**名称：**对应归类方式的名称

**成本：**该游戏的花费的金额

**激活：**统计玩家首次安装成功并启动应用程序的数量 = count_active

**注册数：**用户注册了账号，统计对应的userId = count_user

**DAU**：当天登录的游戏用户数（按设备号去重）= count_dau_dev

**有效注册数：**用户创建了用户角色的数量 = count_valid_user_dev

**激活注册率**：（注册数/激活设备数）% = (count_user/count_active_dev)

**注册单价：**成本/新注册用户数，其中花费指游戏吸引新用户的市场营销活动或广告费用的开支，比如如果广告费1000，这段时间注册了100个用户，则单价为10元/个

**首日付费额**：指**用户首次安装并登陆游戏后**，当天产生的付费金额之和即**当天的所有付费金额之和**； = (first_money)

**首日付费人数：**当天用户首次安装并登录游戏后，进行购买游戏道具的用户数量 = (first_payuser)

**首日付费单价**：首日付费额/首日付费人数 = (first_money/first_payuser)

**首日付费率：**（首日付费人数/当天登陆用户数）*100% = (first_payuser/count_user)

**首日付费单价：**首日付费额/首日付费人数 (指用户首次登录游戏后，当天内的付费均价。) = (first_money/first_payuser)

**首日ARPU:**当天内的总收入/当天首次登陆的用户数 (指用户首次登录游戏后，当天内的平均收入） = (total_money/count_user)

**首日ARPPU:**首日付费额/当天首次登陆付费的用户数（指用户首次登录游戏后，当天内的平均付费收入） = (first_money/first_payuser)

**首日ROI:**(（首日总收入-成本)/成本）*100%（ 指投入产出比）

### 10.红包数据

#### 筛选条件

- 游戏选择、字游戏、游戏包
- 渠道类型、渠道、渠道子账号
- 广告计划、广告编号
- 注册日期（从xxx至xxx） 今天 昨天 最近三天 最近一周 最近两周
- 归类方式：（全部、按广告、按渠道、按游戏、按子游戏、按游戏包、按渠道子账号分类、按投放账号、按投放素材、按广告标签）

#### 需要查询展示的数据计算

**ID**:对应的归类方式的id

**名称：**对应归类方式的名称

**成本：**该游戏的花费的金额

**激活：**统计玩家首次安装成功并启动应用程序的数量

**注册数：**用户注册了账号，统计对应的userId

**有效注册数：**用户创建了用户角色的数量

**有效注册率：**有效注册数/注册数

\--

**活动参与数**：参与了该活动的的玩家人数

**活动参与率**：参与该游戏活动玩家的人数/总玩家人数

**现金红包大于2元：**获得的现金红包中，单个红包大于等于2元的数量

**闪电红包大于288元：**获得闪电红包中单个红包大于等于288元的数量

## 游戏数据

### 1.详细分析

![img](https://cdn.nlark.com/yuque/0/2023/png/32645374/1682063440302-93401449-6222-4695-b6b5-25ebd61ce3e3.png)

#### 筛选条件

- 游戏项目、游戏名称、游戏包名
- 渠道类型、渠道名称、二级渠道
- 计划列表
- 广告列表
- 起始日期-结束日期
- 常用日期：今天 昨天 最近三天 最近一周 最近两周

#### 需要查询并展示的数据

**日期**:起始日期到终止日期

**游戏名：**游戏项目中选中的游戏名称

**渠道名**：选中渠道名称中的名称

**广告名：**广告列表中的广告名字

**激活：**统计玩家首次安装成功并启动应用程序的数量

**注册数：**用户注册了账号，统计对应的userId

**有效注册数：**用户创建了用户角色的数量

**新增付费人数：**统计某一时期首次付费用户的数量

**新增付费金额：**统计某一时期首次付费人数的金额数量

**新增付费率：**当期新增用户中有付费行为的人数 / 当期新增用户总数

**新增ARPU**：当期新用户充值金额/当期新用户的数量

**新增ARPPU**:当期新用户充值金额/当期新用户充值人数

**老用户付费率：**（当日老用户付费人数 / 当日老用户总数）*100%

**老用户ARPU**：当期老用户收入 / 当日老用户总数

**老用户ARPU**：当期老用户付费额 / 当日老用户付费人数

**累计付费金额**：从查询日期范围开始的游戏的总收入

**DAU**：(日活跃用户数)登录的游戏用户数（按设备号去重）

**活跃付费人数**：至少消费一次的活跃用户人数

**活跃付费金额**：该时间类活跃玩家的付费总额

**活跃付费率**：活跃付费人数/活跃玩家总数（当前登陆的玩家数）

**ARPU**:用户的付费金额/用户人数

**ARPPU**:用户付费金额/付费用户人数

**推广费用:**游戏运营时出现的各项费用

**SDK分成所得：**活跃付费金额x折算系数-其他平台的活跃付费金额x0.29

### 2.整体概况

![img](https://cdn.nlark.com/yuque/0/2023/png/32645374/1682063440349-45822b8f-631d-4094-bdb6-5c7f17889965.png)

#### 筛选条件

- 游戏项目、游戏名称、游戏包名
- 渠道类型、渠道名称、二级渠道
- 计划列表
- 广告列表
- 起始日期-结束日期
- 常用日期：今天 昨天 最近三天 最近一周 最近两周

#### 需要查询并展示的数据

##### 每日充值金额：显示查询日期每天的金额数据

老用户充值金额：当期老用户的充值金额

新增充值金额：当期首次付费的金额数量

总充值金额：新增充值金额+老用户充值金额

##### 付费率：显示查询日期每天的付费率

付费率：付费人数/总人数

新角色付费率; 新角色付费人数/总人数

老角色付费率;老角色付费人数/总人数

##### ARPPU

ARPPU：用户付费金额/付费用户人数

新角色ARPPU：新角色付费金额/新角色付费用户人数

老角色ARPPU：老角色付费金额/老角色付费用户人数

##### 账号统计

活跃账号：当期登陆玩家的账号数量

新增账号：当期新注册登陆玩家的账号数量

### 3.留存分析

#### 筛选条件

- 游戏项目、游戏名称、游戏包名
- 渠道类型、渠道名称、二级渠道
- 计划列表
- 广告列表
- 留存类型（留存、新增付费留存）
- 起始日期-结束日期
- 常用日期：今天 昨天 最近三天 最近一周 最近两周

#### 需要查询并展示的数据

**日期**：显示的是起始-终止日期的某一天

**游戏名**：游戏名称中的一个

**渠道名**：渠道名称中的一个

**注册数：**当期注册的用户数量（注册包含UserId的数量）

**推广费用：**游戏投入推广所花费的费用

**N天留存：**在第N天仍然使用应用的用户数/第一天注册人数

**留存单价**：推广费用/留存用户数

### 4.LTV分析

#### 筛选条件

- 游戏项目、游戏名称、游戏包名
- 渠道类型、渠道名称、二级渠道
- 计划列表
- 广告列表
- 留存类型（留存、新增付费留存）
- 起始日期-结束日期
- 账号人员
- 常用日期：今天 昨天 最近三天 最近一周 最近两周

#### 需要查询并展示的数据

**日期**：显示的是起始-终止日期的某一天

**游戏名**：游戏名称中的一个

**渠道名**：渠道名称中的一个

**广告名**：广告列表中的一个

**注册数：**当期注册的用户数量（注册包含UserId的数量）

**LTV：**ARPU（用户的付费金额/用户人数） * 平均生命周期

## 财务数据

### 1.回收数据

#### 筛选条件

- 游戏项目、游戏名称、游戏包名
- 渠道类型、渠道名称、二级渠道
- 起始日期-结束日期

#### 需要查询并展示的数据

**日期**：显示的是起始-终止日期的某一天

**游戏名**：游戏名称中的一个

**渠道名**：渠道名称中的一个

**流水：**当期用户的付费金额总数

**分成金额：**当期用户的付费金额总数 * 分成比例-ios付费金额x0.29

**推广费用：**投入成本

**回收金额：**分成金额-推广费用（保留五位小数）

### 2.ROI数据

#### 筛选条件

- 广告列表、广告计划
- 游戏项目、游戏名称、游戏包名
- 渠道类型、渠道名称、二级渠道
- 起始日期-结束日期
- 账号人员

#### 需要查询并展示的数据

**日期**：显示的是起始-终止日期的某一天

**游戏名**：游戏名称中的一个

**渠道名**：渠道名称中的一个

**广告名：**广告列表中进行取值

**推广费用：**投入成本

**新增注册数：**统计某一时期首次注册的用户数量（userID）

**剩余DAU:**这个时期登录的用户数量。

**付费DAU:**这个时期中登录游戏的付费的用户数（按设备号去重）

**注册单价：**这个时期推广费用/这个时期注册人数

**新增付费人数：统计某一时期首次付费用户的数量**

**付费率：**（新增付费人数/新增注册人数）*100%

**付费单价：**新增付费金额/新增注册人数

**新增付费金额：统计某一时期首次付费人数的金额数量**

**累计付费金额;**当前时期的总充值金额

**SDK分成所得**：活跃付费金额x折算系数-其他平台的活跃付费金额x0.29

**利润：**SDK分成所得-推广费用

**预估ROI:**通过计算每天的广告投放成本和预估收入来计算（预估收入-推广费用）/推广费用

**累计ROI:**当前时间内的ROI总和

**N日的ROI：**每一天的（(预估收益-推广费用）/推广费用）*100%

**真实ROI**：（(付费金额-推广费用）/推广费用）*100%

**预估利润率：**预估利润/预估手收入

**预估利润：**预估收入-推广费用

### 3.用户数据

![img](https://cdn.nlark.com/yuque/0/2023/png/32645374/1682063440498-ba22d574-b8cc-44c1-9186-7bb627c687ce.png)

#### 筛选条件

- 广告列表、广告计划
- 游戏项目、游戏名称、游戏包名
- 渠道类型、渠道名称、二级渠道
- 起始日期-结束日期

#### 需要查询并展示的

**日期**：显示的是起始-终止日期的某一天

**游戏名**：游戏名称中的一个

**渠道名**：渠道名称中的一个

**广告名：**广告列表中进行取值

**推广费用：**投入成本

**注册数：**统计当天首次注册的用户数量（userID）

**注册单价：**这个当天推广费用/这个时期注册人数

**付费用户数：**统计当天付费玩家的人数

**付费单价：**当天付费金额/付费用户数

**总留存：**统计首次注册人数中还有多少当天登陆的

**付费留存：**统计首次注册人数中还有多少付费玩家当天登陆的

**利润：**SDK分成所得-推广费用

### 4.用户付费率

![img](https://cdn.nlark.com/yuque/0/2023/png/32645374/1682063441176-2b346c0d-e0c6-484f-a231-92a1e92ec77f.png)

#### 筛选条件

- 广告列表、广告计划
- 游戏项目、游戏名称、游戏包名
- 渠道类型、渠道名称、二级渠道
- 起始日期-结束日期
- 常用日期： 今天 昨天 最近三天 最近一周 最近两周

#### 需要查询并展示的

**日期**：显示的是起始-终止日期的某一天

**游戏名**：游戏名称中的一个

**渠道名**：渠道名称中的一个

**广告名：**广告列表中进行取值

**注册数：**统计当天首次注册的用户数量（userID）

**首日付费率：**（首日付费人数/当天登陆用户数）*100%；

**首日ARPPU：**首日付费额/当天首次登陆付费的用户数（指用户首次登录游戏后，当天内的平均付费收入）

**N日的付费率：**（第N天付费的人数/第N天留存的人数）*100%

**N日ARPPU:**（N日付费额/N天首次登陆付费的人数）*100%

## 数据报表

### 1.数据日报

![img](https://cdn.nlark.com/yuque/0/2023/png/32645374/1682063441497-c6918b5f-9b0a-46a4-bae4-a7aad6f8732f.png)

根据展示数据控制（如：航海王、恐龙神奇宝贝-白鹰、热血国度、....等产品信息），展示出每一天对应的数据信息

#### 需要查询并会展示的数据

留下：分成所得的计算

**日期：**查询当天的时间

**产品：**展示数据控制中的某一个产品信息名称

**渠道：**对应产品信息绑定的渠道名称

**曝光：**数据库表查询出来的曝光量

**下载数：**从应用商店（App Store、Google Play）或其他平台上下载应用程序的次数，用户每下载一次次数就加1

**下载率：**下载数/曝光数

**下载单价：**现金消耗/下载数

**注册数：**用户注册了账号，统计对应的userId

**注册率：**注册数/下载数

**注册单价：**这个当天推广费用/这个时期注册人数

**付费单价：**新增付费金额/新增注册人数

**消耗：**现金消耗*（（返利点+100）/100)保留两位小数。

**现金消耗：**成本

**新增付费人数**：统计当天首次付费用户的数量

**新增付费金额：统计当天首次付费人数的金额数量**

**新增付费率：**（当天新增付费人数/当天新增注册人数）*100%

**新增ARPU**:新增付费金额/当天新增用户人数

**活跃付费金额**：该时间类至少付费一次玩家的付费总额

**首日ROI**：（新增分成所得/现金消耗）*100%

**投产比：**（活跃分成所得/现金消耗）*100%

**大盘汇总**：对上述曝光、下载数、下载率、下载单价、注册数、注册单价、付费单价、消耗、现金消耗、新增付费人数、新增付费率、新增付费金额、新增ARPU、活跃付费金额、首日ROI、投产比每一列进行累加的数据

### 2.数据周报

![img](https://cdn.nlark.com/yuque/0/2023/png/32645374/1682063441728-2d6a6c7f-d94e-4d63-8ac7-9ff2e50a879e.png)

#### 筛选条件

- 一级分组、二级分组
- 游戏名称、渠道名称
- 游戏项目、游戏名称
- 渠道类型



------



- 添加月份



------



- 渠道名称

#### 需要查询并展示出来的数据

**1.查询时期的数据报表**

**游戏名**：游戏名称中的一个

**渠道名**：渠道名称中的一个

现金消耗：游戏投入成本

总流水： 活跃金额的累加

注册：用户注册了账号，统计对应的userId

DAU:当天登录的游戏用户数（按设备号去重）

单价：现金消耗/注册

首日付费：指**用户首次安装并登陆游戏后**，当天产生的付费金额之和即**当天的所有付费金额之和**；

新增付费率：期新增用户中有付费行为的人数 / 当期新增用户总数

首日ROI;(（首日总收入-(0.29x不同设备成本))/现金消耗）*100%（ 指投入产出比）

累计ROI:((累计收入-（0.29x不同设备成本)/现金消耗）*100%

活跃ROI:(（活跃付费额-(0.29x不同设备成本)/现金消耗）*100%

累亏：利润/DAU

利润：总收入-现金消耗-不同设备现金消耗

**2.大盘同期环比数据**

同期环比指的是，我不同时期的各项数据进行相比，比如查询4.12-4.18得值，那么对比的就是4.05-4,.11得值。

日期：查询日期和环比日期

消耗：根据筛选的查询出对应的成本

新增：统计当前时期首次注册的用户数量（userID）

DAU: 统计当前时期登录的游戏用户数（按设备号去重）

新增付费：统计当前时期新注册用户中首次付费的人数

活跃付费：统计当前时期付费次数大于1的人数

分成所得：活跃付费金额x折算系数-其他平台的活跃付费金额x0.29

增长幅度：（（当前数据-上期数据）/上期数据）*100%

**3.环比数据**（无显示）

### 3.素材报表

![img](https://cdn.nlark.com/yuque/0/2023/png/32645374/1682063441881-c61dd6f7-298e-4283-ba8b-6b3bd762397d.png)

#### 筛选条件

- 游戏名称、游戏项目
- 渠道类型、渠道名称、二级渠道
- 投放账号
- 素材编号
- 账号人员
- 素材等级 成本控制 付费控制
- 查询时间
- 排序字段

#### 需要查询并会展示的数据

- 充值等级：S\A\B\C\D级

- - 条数:广告条数
  - 消耗：投入的成本
  - 曝光：数据库表中的曝光量（指游戏在一定时间内被展示给用户的次数）
  - 点击：统计每小时用户的点击数量（比如点击广告页或者点击广告链接）
  - CPM：（消耗/曝光）*1000 （指每千次展示的成本）
  - 点击率：（点击/曝光）*100%
  - 下载：从应用商店（App Store、Google Play）或其他平台上下载应用程序的次数，用户每下载一次次数就加1
  - 注册数：用户注册了账号，统计对应的userId
  - 点击下载率：（下载数/点击数） *100%
  - 下载注册率：（注册数/下载数）*100%
  - 注册单价：消耗/注册数
  - 首日付费人数：当天用户首次安装并登录游戏后，进行购买游戏道具的用户数量
  - 首日付费：指**用户首次安装并登陆游戏后**，当天产生的付费金额之和即**当天的所有付费金额之和**；
  - 首日付费率：（首日付费人数/当天登陆用户数）*100%
  - 首日ARPPU：首日付费额/当天首次登陆付费的用户数（指用户首次登录游戏后，当天内的平均付费收入）
  - 付费单价：首日付费/首日付费人数
  - 首日ROI：(（首日总收入-消耗)/消耗）*100%（ 指投入产出比）

- 广告条数：从数据库查询广告的数量

- - 消耗：投入的成本
  - 注册数：用户注册了账号，统计对应的userId
  - 曝光：数据库表中的曝光量（指游戏在一定时间内被展示给用户的次数）
  - 点击：统计每小时用户的点击数量（比如点击广告页或者点击广告链接）
  - CPM:（消耗/曝光）*1000 （指每千次展示的成本）
  - 点击率：（点击/曝光）*100%
  - 下载：从应用商店（App Store、Google Play）或其他平台上下载应用程序的次数，用户每下载一次次数就加1
  - 注册单价：消耗/注册数
  - 点击下载率：（下载数/点击数） *100%
  - 下载注册率：（注册数/下载数）*100%
  - 首日付费人数：当天用户首次安装并登录游戏后，进行购买游戏道具的用户数量
  - 首日付费：指**用户首次安装并登陆游戏后**，当天产生的付费金额之和（即**当天的所有付费金额之和**；）
  - 首日付费率：（首日付费人数/当天登陆用户数）*100%
  - 首日ARPPU: 首日付费额/当天首次登陆付费的用户数（指用户首次登录游戏后，当天内的平均付费收入）
  - 付费单价：首日付费/首日付费人数
  - 首日ROI：(（首日总收入-消耗)/消耗）*100%（ 指投入产出比）
  - 活跃付费：玩家至少消费一次的金额

### 4.美术报表（无显示）

### 5.账号报表

#### 筛选条件

- 游戏名称、游戏项目
- 渠道类型、渠道名称、二级渠道
- 投放账号
- 账号人员

#### 需要查询并展示出来的数据

**账户昵称：**从数据库中查询出对应的账号

**账号：**从数据库查询出来的

**游戏：**数据库查询

**渠道：**渠道名称中的一个

**充值金额：**数据库查询

**转出金额：**数据库查询

**投放消耗：**数据库查询

**账号余额**：用户账户中剩余的充值金额

**曝光：**数据库表中的曝光量（指游戏在一定时间内被展示给用户的次数）

**下载：**从应用商店（App Store、Google Play）或其他平台上下载应用程序的次数，用户每下载一次次数就加1

**负责人：**数据库查询

**创建时间：**数据库查询

**更新时间：**数据库查询

### 6.会议报表（无显示）

### 7.市场日报（无显示）

### 8.星图时报

![img](https://cdn.nlark.com/yuque/0/2023/png/32645374/1682063442594-78e4ec3c-9a81-4683-a216-95dabaa0b033.png)

#### 筛选条件

- 星图主播
- 游戏项目、游戏名称
- 起始日期-结束日期
- 常用日期 ：今天 昨天 最近三天 最近一周 最近两周

#### 需要查询并展示出来的数据

分时数据的展示

**时段：**0-23时

**消耗：**游戏成本

**曝光：**游戏曝光量

**点击：**统计每小时用户的点击数量（比如点击广告页或者点击广告链接）

**点击率：**（每小时点击/每小时曝光）*100%

**点击单价：**消耗/点击（每小时游戏投入的成本/除以该小时的点击量）

**组件转化：**数据库中查询出的转化数

**下载：**每小时从应用商店（App Store、Google Play）或其他平台上下载应用程序的次数，用户每下载一次次数就加1

**组件下载率：**组件数/下载数

**下载单价：**消耗/下载量

**激活：**统计每小时玩家首次安装成功并启动应用程序的数量

**注册数：**用户注册了账号，统计对应的userId

**组件注册率:**组件/注册数

**注册单价：**消耗/每小时注册数

**新增付费人数：**统计每一小时首次付费用户的数量

**新增付费额：**统计每一小时首次付费人数的金额数量

**新增付费率：**新增付费人数/ 每小时注册数

**新增付费单价：**新增付费金额/每小时注册数

**活跃付费额：**每小时玩家至少消费一次的金额

**首日ARPU:** 每一小时的付费金额/每一小时注册数

**首日ROI:**每小时玩家首次充值的金额/每小时的投入消耗

### 9.星图日报

![img](https://cdn.nlark.com/yuque/0/2023/png/32645374/1682063443040-1e9abd65-9771-4b78-9fe9-1f926a587d64.png)

#### 筛选条件

- 游戏项目、游戏名称
- 星图主播
- 查询时间

#### 需要查询并展示出来的数据

**日期：**查询日期中的日期时间

**总消耗：**安卓消耗+IOS消耗

**安卓消耗：**根据设备为安卓类型的来查询对应的成本

**IOS消耗：**根据设备为IOS类型的来查询对应的成本

**曝光量：**查询数据表的曝光字段进行数据统计

**点击量：**统计用户的点击数量（比如点击广告页或者点击广告链接）

**点击均价：**总消耗/点击量

**下载量：**从应用商店（App Store、Google Play）或其他平台上下载应用程序的次数，用户每下载一次次数就加1

**点击下载率**：（下载数/点击数）*100%

**下载单价：**总消耗/下载量

**激活量：**统计玩家首次安装成功并启动应用程序的数量

**注册量：**用户注册了账号，统计对应的userId

**下载注册率：** （注册量/下载量）*100%

**激活注册率：**（注册量/激活量）*100%

**注册单价：**总消耗/注册量

**新增付费数：**当天新注册中首次付费人数

**新增付费率：**（当天新增付费数/当天注册人数）*100%

**新增付费：**当天新注册中首次付费人的金额

**总消费：**当天所有玩家付费金额的总和

**付费单价：**当天付费金额/当天付费玩家人数

**新增ARPU:**当天新用户充值金额/当天新用户的数量

**首日ROI：**（（首日总收入-成本)/成本）*100%（ 指投入产出比）

**回收率：**收入/成本

**直播间观看人数**：统计直播间信息表中的在线观众字段

### 10.数据切换管理

![img](https://cdn.nlark.com/yuque/0/2023/png/32645374/1682063443141-44da7a35-2762-450f-bc0d-92f28a3e102c.png)

#### 需要查询的数据

**切换类型**：可选常规切换可广告切换

**原本数据**：包括游戏选择、子游戏、渠道、渠道子账号

**切换数据**：游戏选择、子游戏、渠道类型、渠道、渠道子账号、自定义名称

## 数据工具

### 1.预测流水

![img](https://cdn.nlark.com/yuque/0/2023/png/32645374/1682063443500-2d0885a6-6cec-41c6-8245-36bc408567a9.png)

填入成本、然后得出预测的流水

#### 需要查询的数据

**预测流水**：活跃金额数-成本

### 2.计算付费

![img](https://cdn.nlark.com/yuque/0/2023/png/32645374/1682063444204-bacb0ecd-3ef5-4cf4-9113-f650cd9b2303.png)

#### 筛选条件

- 游戏项目 、游戏名称
- 渠道类型、渠道名称、二级渠道
- 注册日期、结束日期
- 付费日期、结束日期

#### 需要查询并展示的数据

**注册日期：**查询日期的每一天

**注册数：**用户注册了账号，统计对应的userId

**新增付费人数**：当天新注册中首次付费人数

**新增付费：**当天新注册中首次付费的金额

**期间付费人数：**当天总的付费人数（包含新用户、老用户）

**期间付费：**当天付费的金额总和

**合计**：对上述各列进行求和

## 发行合作商数据统计

### 1.转换数据统计

![img](https://cdn.nlark.com/yuque/0/2023/png/32645374/1682063444470-46f219f8-94d6-40c7-bdfb-a6b697d9fda4.png)

#### 筛选条件

- 子游戏
- 日期 
- 常用日期：今天、昨天、最近三天、最近一周、最近两周
- 归类方式

#### 需要查询并展示的数据

**ID:**归类方式字段的ID

**名称：**归类方式的名称

**点击：**统计用户的点击数量（比如点击广告页或者点击广告链接）

**点击设备数：**统计每小时用户在手机或者平板设备上进行点击的数量（**就是点击链接或者广告进行下载程序的唯一设备数量**），**同一用户在同一设备上点击一个链接两次，点击数为2，点击设备数算1**

**下载数：**从应用商店（App Store、Google Play）或其他平台上下载应用程序的次数，用户每下载一次次数就加1

**下载设备数：**根据设备ID号来获取，计算应用程序被下载的数量

**激活：**统计玩家首次安装成功并启动应用程序的数量

**激活设备数：**根据**设备号id**统计玩家成功安装并启动应用程序的

**注册数：**用户注册了账号，统计对应的userId

**注册设备数**：根据唯一的设备号ID，来计算对应的userId的数量

**点击下载率**：（下载设备数/点击设备数）*100%

**点击激活率**：（激活设备数/下载设备数）*100%

**点击注册率：**（注册数/点击数）*100%

**激活注册率：**（注册数/激活数）*100%

**新增付费人数：**新注册中首次付费的人数

**有效注册数：**创建了用户角色的注册人数

### 2.付费数据统计

![img](https://cdn.nlark.com/yuque/0/2023/png/32645374/1682063444729-77822cbc-0e9d-4e06-af6e-1bd6737f0f36.png)

#### 筛选条件

- 子游戏
- 日期 
- 常用日期：今天、昨天、最近三天、最近一周、最近两周
- 归类方式（按游戏、渠道、广告包、游戏包）

#### 需要查询并展示的数据

**ID:**归类方式字段的ID

**名称：**归类方式的名称

**新增付费人数：**新注册中首次付费的人数

**老用户付费人数**：当期非新增用户中有付费行为的人数（在某一时期内非首日登录的老用户中，参加付费活动，进行的付费的用户数量）

**总付费人数：**新用户付费人数+老用户付费人数

**新增付费金额：**当天新注册中首次付费的金额

**老用户付费金额：**当期非新增用户的付费总额

**总付费金额：**老用户付费金额

**累计付费金额：**活跃用户金额

**老用户ARPU:**老用户付费金额/老用户人数

**老用户ARPPU:**老用户付费金额/老付费用户人数

**ARPU**:用户的付费金额/用户人数

**ARPPU**:用户付费金额/付费用户人数

**新增付费率：**（新增付费人数/新增人数）*100%

**总付费率：**（总付费人数/用户人数）*100%

### 3.LTV数据统计

#### 筛选条件

- 子游戏
- 日期 
- 常用日期：今天、昨天、最近三天、最近一周、最近两周
- 归类方式（按游戏、渠道、广告包、游戏包）

#### 需要查询并展示的数据

**ID:**归类方式的ID

**名称：**归类方式的名字

**N日LTV：**ARPU * 平均生命周期（其中ARPU=用户的付费金额/用户人数）

### 4.留存数据统计

#### 筛选条件

- 子游戏
- 日期 
- 常用日期：今天、昨天、最近三天、最近一周、最近两周
- 归类方式（按游戏、渠道、广告包、游戏包）

#### 需要查询并展示的数据

**ID:**归类方式的ID

**名称：**归类方式的名字

**注册数：**统计当天首次注册的用户数量（userID）

**N日留存：**在第N天仍然使用应用的用户数/第一天注册的用户数

## 合作商数据统计

### 1.合作商数据[数据]

![img](https://cdn.nlark.com/yuque/0/2023/png/32645374/1682063444842-d5f2e01b-e1ce-434f-ba43-3ccb2e99c6da.png)

#### 筛选条件

- 广告类型、广告
- 游戏选择、子游戏
- 渠道类型、渠道、渠道子账号
- 日期
- 归类方式

#### 需要查询并展示的数据

**日期：**查询的日期

**名称：**归类方式的名字

**点击数：**统计用户的点击数量（比如点击广告页或者点击广告链接）

**下载数：**从应用商店（App Store、Google Play）或其他平台上下载应用程序的次数，用户每下载一次次数就加1

**激活数：**统计玩家首次安装成功并启动应用程序的数量

**注册数：**用户在当天注册了账号，统计对应的userId

**全部注册数**：新注册用户数+老用户注册数

**有效注册数：**用户创建了用户角色或者登陆的数量

**全部有效注册数：**新用户的有效注册数和老用户的有效注册数

**新增付费人数：**统计查询当天首次付费用户的数量

**新增付费金额：**统计查询当天首次付费人数的金额数量

**新增付费率：**当期新增用户中有付费行为的人数 / 当期新增用户总数

**活跃人数：**当天有过登陆的用户

**活跃付费人数：**当天至少消费一次的活跃用户人数

**付费总额：**当天的所有付费金额之和

**活跃付费率：**活跃付费人数/活跃玩家总数（当前登陆的玩家数）

**首日ARPU:**当天内的总收入/当天首次登陆的用户数 (指用户首次登录游戏后，当天内的平均收入）

**全部首日ARPU:**当天的新增付费金额/全部注册数

**总ARPU:**总的活跃金额/活跃玩家总数

**N日留存：**：在第N天仍然使用应用的用户数/第一天注册的用户数

**LTV:**ARPU * 平均生命周期（其中ARPU=用户的付费金额/用户人数）

**合计：**各列的累加和

### 2.合作商数据[渠道]

![img](https://cdn.nlark.com/yuque/0/2023/png/32645374/1682063445564-08993153-5a9f-43a9-adc2-17f7bd756939.png)

#### 筛选条件

- 广告类型、广告
- 渠道子账号
- 日期
- 归类方式

#### 需要查询并展示的数据

**日期：**查询的日期

**游戏名称：**筛选后查询出的游戏名字

**点击数：**统计用户的点击数量（比如点击广告页或者点击广告链接）（经过扣量）

**全部点击数：**统计用户的点击数量（比如点击广告页或者点击广告链接）

**下载数：**从应用商店（App Store、Google Play）或其他平台上下载应用程序的次数，用户每下载一次次数就加1（经过扣量）

**全部下载数：**从应用商店（App Store、Google Play）或其他平台上下载应用程序的次数，用户每下载一次次数就加1

**激活数：**统计玩家首次安装成功并启动应用程序的数量（经过扣量）

**全部激活数：**统计玩家首次安装成功并启动应用程序的数量

**注册数：**用户在当天注册了账号，统计对应的userId（扣量）

**全部注册数**:数据库查询用户在当天注册了账号，统计对应的userId

**有效注册数：**用户创建了用户角色或者登陆的数量（扣量）

**全部有效注册数**：用户创建了用户角色或者登陆的数量

**新增付费人数：**统计查询当天首次付费用户的数量

**新增付费金额：**统计查询当天首次付费人数的金额数量

**新增付费率：**当期新增用户中有付费行为的人数 / 当期新增用户总数

**全部新增付费率：**新增付费人数/全部注册数

**活跃人数：**当天有过登陆的用户

**活跃付费人数：**当天至少消费一次的活跃用户人数

**全部活跃付费人数：**全部活跃付费人数/全部活跃人数

**付费总额：**当天的所有付费金额之和

**活跃付费率：**活跃付费人数/活跃玩家总数（当前登陆的玩家数）

**首日ARPU:**当天的新增付费金额/注册数

**全部首日ARPU:**当天的新增付费金额/全部注册数

**总ARPU:**付费总额活跃玩家总数

**全部总ARPU:**=全部付费总额/全部活跃人数

**N日留存：**：在第N天仍然使用应用的用户数/第一天注册的用户数

**LTV:**ARPU * 平均生命周期（其中ARPU=用户的付费金额/用户人数）

**合计：**各列的累加和

### 3.合作商数据[单位]

#### 筛选条件

- 广告类型、广告
- 渠道子账号
- 日期
- 归类方式

#### 需要查询并展示的数据

**日期：**查询的日期

**游戏名称：**筛选后查询出的游戏名字

**点击数：**统计用户的点击数量（比如点击广告页或者点击广告链接）

**下载数：**从应用商店（App Store、Google Play）或其他平台上下载应用程序的次数，用户每下载一次次数就加1

**激活数：**统计玩家首次安装成功并启动应用程序的数量

**注册数：**用户在当天注册了账号，统计对应的userId

**有效注册数：**用户创建了用户角色或者登陆的数量

**新增付费人数：**统计查询当天首次付费用户的数量

**新增付费金额：**统计查询当天首次付费人数的金额数量

**活跃人数：**当天有过登陆的用户

**活跃付费人数：**当天至少消费一次的活跃用户人数

**付费总额：**当天的所有付费金额之和

### 4.合作商数据

#### 筛选条件

- 游戏项目、游戏名称
- 渠道类型、渠道名称、二级渠道
- 广告类型、广告列表
- 起始日期、结束日期
- 常用日期：今天 昨天 最近三天 最近一周 最近两周
- 归类方式（按广告、渠道、游戏包、游戏、渠道子账号）

#### 需要查询并展示的数据

**ID:**归类方式的ID

**日期：**查询的日期

**名称：**归类方式的名字

**点击数：**统计用户的点击数量（比如点击广告页或者点击广告链接）

**下载数：**从应用商店（App Store、Google Play）或其他平台上下载应用程序的次数，用户每下载一次次数就加1（扣量）

**全部下载数：**从应用商店（App Store、Google Play）或其他平台上下载应用程序的次数，用户每下载一次次数就加1

**激活数：**统计玩家首次安装成功并启动应用程序的数量

**注册数：**用户在当天注册了账号，统计对应的userId（扣量）

**全部注册数**:数据库查询用户在当天注册了账号，统计对应的userId（扣量）

**有效注册数：**用户创建了用户角色或者登陆的数量（经过扣量的）

**全部有效注册数**：用户创建了用户角色或者登陆的数量

**新增付费人数：**统计查询当天首次付费用户的数量

**新增付费金额：**统计查询当天首次付费人数的金额数量

**新增付费率：**当期新增用户中有付费行为的人数 / 注册数

**全部新增付费率：**新增付费人数/全部注册数

**活跃人数：**当天有过登陆的用户

**活跃付费人数：**当天至少消费一次的活跃用户人数

**付费总额：**当天的所有付费金额之和

**活跃付费率：**活跃付费人数/活跃玩家总数（当前登陆的玩家数）

**全部活跃付费人数：**全部活跃付费人数/全部活跃人数

**首日ARPU:**当天的新增付费金额/注册数

**全部首日ARPU:**当天的新增付费金额/全部注册数

**总ARPU:**付费总额活跃玩家总数

**全部总ARPU:**=全部付费总额/全部活跃人数

### 5.数据调整

#### 筛选条件

- 游戏项目、游戏名称
- 渠道类型、渠道名称、二级渠道
- 广告列表
- 日期

## 用户数据

![img](https://cdn.nlark.com/yuque/0/2023/png/32645374/1682063446009-61455f71-baf2-42d7-96ae-26a9c37ddd79.png)

![img](https://cdn.nlark.com/yuque/0/2023/png/32645374/1682063446485-2098d4ef-d915-42ff-8d5d-c0f39a2c5938.png)

### 1.用户数据

查询出某个具体用户账号的信息

#### 筛选条件

- 广告列表
- 游戏选择、子游戏
- 渠道类型、渠道、渠道子账号
- 注册日期
- 登陆日期
- 用户ID、账号

#### 需要查询并展示的数据

**游戏;** 根据筛选条件中的子游戏id查询出对应的游戏名

**渠道;** 根据筛选条件中的渠道id查询出对应的渠道名称

**广告id**: 根据筛选条件中的广告列表进行查询对应的id

**广告名**：根据广告id查询出对应的广告名

**设备ID:** 根据用户表直接查询对应的设备id字段

**用户ID**:根据用户表直接查询对应的用户d字段

**账号**：根据用户id联表查询出对应的用户名

**首服ID**: 根据用户表直接查询出对应的首服ID

**新服ID**:根据用户表直接查询出对应的新服ID(指玩家重新进入一个服务器玩)

**在线时长**：根据用户表直接查询出对应的在线时长、定义一个时间解析参数、转化为年、天、小时、分、和秒为单位的计算。具体就是查询的时间-31556926秒，大于就是除以一年的秒数并减去对应的秒数后继续进行判断，如果大于86400秒就是大于1天、大于3600秒就是大于等于一小时、大于60秒就是按一分钟算。

**注册时间**：根据用户表直接查询出对应的用户的注册日期字段

**最新登陆时间**：记录用户最近一次上线的时间，从用户表中可以直接查询出来

**最新登陆IP**:记录用户最近一次上线的ip地址，从用户表中可以直接查询出来

**IP归属地**：根据查询的IP查找对应的IP归属地

**登陆日志**：查询对应的登陆时间（beg_time-end_time）、广告id、登陆Ip

**封号操作：**在登陆用户id中如果我们没有查询到对应的用户id，那么将该用户id状态置为0表示封号、置为1表示正常(从拥有login_ip，login_user_id的表中查询)

**封IP操作**：在登陆用户ip中如果我们没有查询到对应的用户ip，那么将该用户ip状态置为0表示封号、置为1表示正常

### 2.角色数据

#### 筛选条件

- 广告列表
- 游戏选择、子游戏
- 渠道类型、渠道、渠道子账号
- 注册日期
- 登陆日期
- 充值日期
- 用户ID、账号、角色名

#### 需要查询并展示的数据

**游戏：**根据筛选条件中的子游戏id查询出对应的游戏名

**所属渠道：**根据筛选条件中的渠道id查询出对应的渠道名称

**广告id**: 根据筛选条件中的广告列表进行查询对应的id

**广告名**：根据广告id查询出对应的广告名

**用户ID**:根据用户表直接查询对应的用户d字段

**账号**：根据用户id联表查询出对应的用户名（user_name）

**角色ID:**查询对应角色表中的roleId

**角色名：**查询角色表中的role_name

**角色等级：**查询角色表中的role_level

**服务器ID:**查询对应角色表中的server_id

**在线时长**：根据用户表直接查询出对应的在线时长、定义一个时间解析参数、转化为年、天、小时、分、和秒为单位的计算。具体就是查询的时间-31556926秒，大于就是除以一年的秒数并减去对应的秒数后继续进行判断，如果大于86400秒就是大于1天、大于3600秒就是大于等于一小时、大于60秒就是按一分钟算。

**注册时间**：根据用户表直接查询出对应的用户的注册日期字段

**最新登陆时间：**记录用户最近一次上线的时间，从用户表中可以直接查询出来

**用户充值**：需要查询出订单号、充值金额、充值方式、充值时间、用户 订单数据的合计

![img](https://cdn.nlark.com/yuque/0/2023/png/32645374/1682063447210-2cfba787-a2e5-4fb4-b0e7-aff30964fb11.png)

**封号操作：**在登陆用户id中如果我们没有查询到对应的用户id，那么将该用户id状态置为0表示封号、置为1表示正常(从拥有login_ip，login_user_id的表中查询)

### 3.付费用户数据

![img](https://cdn.nlark.com/yuque/0/2023/png/32645374/1682063447746-96f43fa2-7db3-4217-b47e-eaee8a090daa.png)

#### 筛选条件

- 广告列表
- 游戏项目、游戏名称
- 渠道类型、渠道名称、二级渠道
- 用户ID、账号
- 注册起始、注册结束
- 登陆起始、登陆结束
- 充值起始、充值结束
- 查询类型（新增付费用户、全部付费用户）

#### 需要查询并展示的数据

**游戏：**根据筛选条件中的子游戏id查询出对应的游戏名

**所属渠道：**根据筛选条件中的渠道id查询出对应的渠道名称

**广告id**: 根据筛选条件中的广告列表进行查询对应的id

**广告名**：根据广告id查询出对应的广告名

**用户ID**:根据用户表直接查询对应的用户d字段

**账号**：根据用户id联表查询出对应的用户名（user_name）

**手机号：**根据对应的注册或者登录表查出对应的phone

**首服ID**: 根据用户表直接查询出对应的首服ID

**新服ID**:根据用户表直接查询出对应的新服ID(指玩家重新进入一个服务器玩)

**在线时长**：根据用户表直接查询出对应的在线时长、定义一个时间解析参数、转化为年、天、小时、分、和秒为单位的计算。具体就是查询的时间-31556926秒，大于就是除以一年的秒数并减去对应的秒数后继续进行判断，如果大于86400秒就是大于1天、大于3600秒就是大于等于一小时、大于60秒就是按一分钟算。

**注册时间**：根据用户表直接查询出对应的用户的注册日期字段

**最新登陆时间：**记录用户最近一次上线的时间，从用户表中可以直接查询出来

**首次充值时间：**从用户表中查询出time_first_pay字段

**最后充值时间：**从用户表查询出time_pay字段

**充值总额：**从订单表里面查询出该用户的订单总金额

**订单详情：**需要查询**最新**一次的订单号、充值金额、充值方式、充值时间、用户订单数据的合计

![img](https://cdn.nlark.com/yuque/0/2023/png/32645374/1682063447382-333b9cc4-90a4-4296-9d1e-c6b82504ddab.png)

### 4.用户充值分布数据

![img](https://cdn.nlark.com/yuque/0/2023/png/32645374/1682063448045-027b2aad-9854-4f79-884f-f30b673d85ab.png)

#### 筛选条件

- 广告列表
- 游戏项目、游戏名称
- 渠道类型、渠道名称、二级渠道
- 注册起始、注册结束
- 广告列表（模式一、模式二、模式三）

#### 需要查询并展示的数据

根据广告列表模式的不一致，展示数据的条件也不一致

**首日付费分布图：**

根据表格计算出的数据，用扇形图进行展示出来

**模式一、模式二、模式三：**根据type类型的不一样，金额范围不一致

模式一的范围：

2-10；11-29；30-67；68-97；98-127；128-327；328-647；648-999；1000-1999；2000-4999；>5000

模式二的范围：

6;7-30;31-68;69-128;199-328;329-648;649-1000;1001-2999;>3000

模式三的范围：

2-10；11-29；30-67；68-97；98-127；128-327；328-647；648-999；1000-1999；2000-4999；5000-9999；>9999

**表格数据：**

- 充值区间如上范围
- 付费人数：统计金额在该金额范围的人数
- 付费人数占比：该区间人数/付费总人数
- 平均数：该区间的金额/该区间的人数
- 区间总金额：每个区间的付费人数的总金额
- 总金额占比：该区间总金额/总金额

### 5.用户首充分布数据

![img](https://cdn.nlark.com/yuque/0/2023/png/32645374/1682063448706-f8d2641b-6b4f-45c1-8673-61f97dade188.png)

#### 筛选条件

- 广告列表
- 游戏项目、游戏名称
- 渠道类型、渠道名称、二级渠道
- 注册起始、注册结束

#### 需要查询并展示的数据

**用户首充时长分布数据：**（**首次充值时间-用户注册时间）的时间差**，按对应的时间区间进行分组，统计该区间的用户数量

- 首充时间占比：充值人数/总人数

**用户首充等级数据：**查询用户首次充值时的等级，并按等级进行区间划分、统计该区间的用户数量（**根据用户的充值时间获取到对应的充值记录所对应的游戏角色ID,根据角色ID找到对应的角色等级**）

- 首充等级占比：首充等级这个区间人数/总人数

### 6.用户二次付费数据

![img](https://cdn.nlark.com/yuque/0/2023/png/32645374/1682063448636-b3d69890-816b-4043-8afd-a3ab0e8bd14f.png)

#### 筛选条件

- 广告列表
- 游戏项目、游戏名称
- 渠道类型、渠道名称、二级渠道
- 注册起始、注册结束

#### 需要查询并展示的数据

**N日付费人数：**首先注册时间(time_reg)等于创建时间(time_create)的玩家，然后计算用户第一次登陆游戏的第N天内至少进行了一次付费的玩家人数（用value1字段代表第几天充值过的）

**N日二次付费人数：**首先注册时间(time_reg)等于创建时间(time_create)的玩家，然后计算用户第一次登陆游戏的第N天内至少进行了2次付费的玩家人数

### 7.充值结构数据

- 充值人数结构

![img](https://cdn.nlark.com/yuque/0/2023/png/32645374/1682063449653-b01b1791-b5c4-4c10-80f9-e252bf8724ff.png)

- 充值金额结构

![img](https://cdn.nlark.com/yuque/0/2023/png/32645374/1682063449691-471267ab-cca4-435d-bfde-1838e896fa80.png)

#### 筛选条件

- 广告列表
- 游戏项目、游戏名称
- 渠道类型、渠道名称、二级渠道
- 注册起始、注册结束
- 数据类型（按充值人数结构、按充值结构）

#### 需要查询并展示的数据

**充值人数的结构**

展示的每天充值人数的结构，这里客户端展示页面有些问题

- 计算出当天充值金额区间的人数/当天充值的人数

充值金额结构

- 当天充值金额区间i内的充值金额和/当天全部充值金额和

### 8.在线统计

#### 筛选条件

- 游戏、子游戏
- 渠道类型、渠道、子渠道
- 广告列表
- 归类方式（子游戏、渠道、母游戏）

#### 需要查询并展示的数据

**ID:**是归类方式中的ID，按子游戏就是子游戏的ID，

**名称：**根据ID字段查询对应的名称

**在线数：**统计该分类下的在线人数（用户表下user_id的人数）

## 充值与消费

### 1.日充值汇总

![img](https://cdn.nlark.com/yuque/0/2023/png/32645374/1682063449977-e68174d1-d080-4d07-812b-0d0cf0c24c71.png)

#### 筛选条件

- 游戏、子游戏
- 渠道类型、渠道、渠道子账号
- 选择日期
- 注册日期

#### 需要查询并展示的数据

展示每一天的充值情况

**日期：**即查询范围中的某一天

**充值方式：**根据pay_type字段查询出对应的充值方式

**游戏：**根据game_id查询出的游戏字段名

**充值总额：**从订单表中查询出对应的金额(money字段)

**充值代金卷总额：**从订单表中查询出对应的（couple_price)代金卷金额

**充值用户数：**查询出该游戏中有多少用户进行了充值

**充值次数：**当天用户的充值次数

**ARPU值：**充值总额/用户数

### 2.月充值汇总

![img](https://cdn.nlark.com/yuque/0/2023/png/32645374/1682063450631-4a0f1c23-5e89-40b6-880b-e61bf9fe3521.png)

#### 筛选条件

- 游戏、子游戏
- 渠道类型、渠道、渠道子账号
- 选择日期
- 注册日期

#### 需要查询并展示的对象

展示每一个月的充值消费情况

**日期：**只需要展示出日期**年-月**

**充值方式：**根据pay_type字段查询出对应的充值方式

**游戏：**根据game_id查询出的游戏字段名

**充值总额：**从订单表中查询出对应的金额(money字段)

**充值代金卷总额：**从订单表中查询出对应的（couple_price)代金卷金额

**充值用户数：**查询出该游戏中有多少用户进行了充值

**充值次数：**当天用户的充值次数

**ARPU值：**充值总额/用户数

### 3.充值订单

#### 筛选条件

- SDK订单号、cp订单号、渠道订单号
- 用户id
- 类型（充值成功订单）根据**deliver_status**决定
- 游戏、子游戏（可选中指定的游戏进行查询）
- 广告列表如下

![img](https://cdn.nlark.com/yuque/0/2023/png/32645374/1682063451126-05d1eb33-921a-400e-af25-ed685829c10c.png)

- 渠道类型、渠道、渠道子账号
- 充值方式(微信、支付宝、........)
- 手机系统（安卓、IOS）
- 支付渠道（龙游支付宝1.....)（对应的字段是pay_vendor_id）
- 选择日期 
- 常用日期可选：昨天 最近三天 最近一周 最近两周

#### 需要查询并展示的数据

充值成功查询

**游戏：**是游戏名和子游戏名的拼接（game1_id+game2_id)

**广告id:**广告列表中展示出的deal_id

**用户id：**订单表中展示的user_id

**用户名：**订单表中展示的user_name

**区服id:**订单表中记录的server_id

**订单id:**订单表中的order_id

**cp订单号：**游戏订单号，存在订单表中的game_order_id;

**渠道订单号：**对应订单表中的bank_order_id

**充值金额：**根据订单表中的pay_money字段进行查询

**充值代金卷金额：**从订单表中查询出对应的（couple_price)代金卷金额

**充值方式：**根据pay_type字段查询出对应的充值方式

**充值时间：**查询订单表中的pay_time字段

**充值类型：**查询订单表中的order_type字段

**订单总条数：**累加计算订单id

**订单总金额：**累加计算充值金额

未充值成功订单

![img](https://cdn.nlark.com/yuque/0/2023/png/32645374/1682063451248-d799c503-b14b-4df2-b3b8-f5d433ac525f.png)

**游戏：**是游戏名和子游戏名的拼接（game1_id+game2_id)

**用户id：**订单表中展示的user_id

**用户名：**订单表中展示的user_name

**银行发货状态：**查询保存近期订单表中的bank_status>1000就是成功否则就是失败

**游戏发货状态：**查询保存近期订单表中的game_status>1000就是成功否则就是失败

**充值金额：**根据订单表中的pay_money字段进行查询

**充值代金卷金额：**从订单表中查询出对应的（couple_price)代金卷金额

**充值订单:**订单表中的order_id

**cp订单号：**游戏订单号，存在订单表中的game_order_id;

**渠道订单号：**对应订单表中的bank_order_id

**充值时间：**查询订单表中的pay_time字段

**充值类型：**查询订单表中的order_type字段

**充值方式：**根据pay_type字段查询出对应的充值方式

**发货重试次数：**查询近期订单表中对应的game_deliver_retry

**补单操作：**根据判断我们表中deliver_status=1?（deliver_status是指发货状态，=1指游戏发货失败、=2是未成功充值）

1. 判断deliver_status的值是否为1，如果是，则会在当前行的最后一列生成一个超链接，用于手动补单。
2. 如果deliver_status的值不为1，而是为2，则会在当前行的最后一列生成另一个超链接，用于更改状态

**订单总条数：**累加计算订单id

**订单总金额：**累加计算充值金额

### 4.充值订单[买量]

![img](https://cdn.nlark.com/yuque/0/2023/png/32645374/1682063451994-ce66fa05-6443-4d44-8e86-713ef9ca5acd.png)

#### 筛选条件

- 用户名
- 用户id
- 游戏、子游戏（可选中指定的游戏进行查询）
- 广告列表
- 渠道类型、渠道、渠道子账号
- 选择日期
- 注册日期
- 昨天 最近三天 最近一周 最近两周

#### 需要查询并展示的数据

![img](https://cdn.nlark.com/yuque/0/2023/png/32645374/1682063452600-ed7d5991-e01f-46f4-88f7-b2a418eb6bdf.png)

**游戏：**子游戏game_id2的名称

**媒体名称：**渠道类型的渠道名称sale2_id对应的名称

**投放id:**对应订单表的plan_id

**广告名称：**根据订单表的deal_id广告id查询出对应的广告名称

**广告id:**查询订单表中的deal_id

**用户id：**订单表中展示的user_id

**用户名：**订单表中展示的user_name

**充值金额**：根据订单表中的pay_money字段进行查询

**注册时间：**查询订单表中的time_create字段

**充值方式:**根据pay_type字段查询出对应的充值方式

**充值时间：**查询订单表中的pay_time字段

**地域：**查询订单表中的client_ip字段，如果不为空就调用IP类的find方法，将国家 省份 和原始地址进行拼接

**总条数：**统计订单Id的条数

### 5.用户充值订单查询

![img](https://cdn.nlark.com/yuque/0/2023/png/32645374/1682063452356-38e136fb-7369-4751-b90e-b3372ab6a05c.png)

#### 筛选条件

- 用户名
- 用户Id

#### 需要查询并展示的数据

用户名：筛选条件下的用户名

用户id: 筛选条件下的用户ID

游戏id:根据用户的ID来查询对应订单表中的游戏ID

广告ID:根据用户的ID来查询对应订单表中的游戏ID

用户IP:根据用户名和用户id查询订单表中的client_ip

订单ID:根据用户名和用户id查询订单表中的order_id

充值时间：根据用户名和用户id查询订单表中的time_create

充值金额：根据用户名和用户id查询订单表中的pay_money

充值代金卷金额：根据用户名和用户id查询订单表中的coupon_price

## 代金卷数据统计

### 代金卷的使用汇总

![img](https://cdn.nlark.com/yuque/0/2023/png/32645374/1682063452575-eab3cda0-62bc-4b1a-9641-aa6b6e97269c.png)

#### 筛选条件

- 游戏id
- 创建时间

#### 需要查询并展示的数据

**游戏ID：**筛选出的游戏id

**游戏名称：**根据游戏id可以查出对应的游戏名（在用户使用代金卷表）

**价值：**根据游戏id查询用户使用代金卷表的价值（price）字段

**使用数量：**统计是用代金卷的游戏id一共多少个，[count(*)]

## 日志管理

### 1.统计日志

![img](https://cdn.nlark.com/yuque/0/2023/png/32645374/1682063452820-6bd3524f-d246-4a70-853f-57ca6a07bf30.png)

#### 筛选条件

- 子游戏
- 渠道、渠道子账号
- 事件类型（login、register、alipay...)
- 广告ID

#### 需要查询并展示的数据

![img](https://cdn.nlark.com/yuque/0/2023/png/32645374/1682063453764-66f5e9a6-69be-421d-9d78-6e0d052ae681.png)

点开查询的是今天的日志信息

**时间：**实时查询出的信息

**广告：**就是筛选的deal_id

**事件类型：**筛选出来的事件类型

**游戏：**筛选出的子游戏名字

**渠道：**根据筛选出来的

**子渠道：筛选条件**

**数据：**包含以下内容暂不确定

- 时间
- 事件类型
- 广告id
- 事件类型Id
- 游戏id
- 渠道id
- 子渠道id

### 2.设备数据

![img](https://cdn.nlark.com/yuque/0/2023/png/32645374/1682063453854-b806a282-9c33-4123-9311-9defad063aed.png)

#### 筛选条件

游戏选择、子游戏

渠道类型、渠道、渠道子账号

设备表（有多张表）

唯一ID

创建日期

#### 需要查询并展示的数据

- 以ct_device_01表做查询

根据选的表展示的数据也是不一样的，表的字段是ct_device_xx

**记录数量**：查询出的ct_device_01表记录数

**游戏：**筛选条件的子游戏名

**所属渠道：**筛选条件的渠道名

**广告ID:**查询ct_device的deal_id字段

**广告名：**根据deal_id去查询到对应的广告名

**唯一ID:**查询ct_device的unique_id字段

**设备ID:**查询ct_device的device_id字段

**序列号：**查询ct_device的serial_id字段

**android_id:**查询ct_device的android_id字段

**cookie_id:**查询ct_device的cookie_id字段

**IP:**查询ct_device的client_ip字段

**操作系统：**查询ct_device的dev_os字段

**系统版本：**查询ct_device的dev_os_ver字段

**设备型号：**查询ct_device的dev_model字段

**安装包名：**查询ct_device的pkg_name字段

**安装包版本：**查询ct_device的pck-ver1字段

**SDK版本：**查询ct_device的sdk_ver字段

**注册时间：**查询ct_device的time_reg字段

**登录时间：**查询ct_device的time_login字段

**支付时间：**查询ct_device的time_play字段

**创建时间：**查询ct_device的time_create字段

**更新时间：**查询ct_device的time_update字段

### 3.归因切换数据

![img](https://cdn.nlark.com/yuque/0/2023/png/32645374/1682063454050-41df1d02-18f3-4824-8cf2-ee9ab3203a9b.png)

#### 筛选条件

- 广告id
- 唯一设备id
- 新广告Id
- 创建时间

#### 需要查询并展示的数据

此字段源于php中的open_attribution.at_switch表

**广告ID**:即日志表的广告id（deal_id）

**唯一设备ID:日志表的unique_id

**新广告ID:日志表出来的new_deal_id

**创建时间：日志表出的time_create

### 4.设备回调数据

![img](https://cdn.nlark.com/yuque/0/2023/png/32645374/1682063454253-2ced571b-3b86-4161-84f5-bccad0b28344.png)

#### 筛选条件

可以指定查寻单独的一条，默认是查询日志表的数据

#### 需要查询并展示的数据

**广告ID**:查询选中的记录表中的deal_id

**唯一设备ID**:查询选中的记录表中的unique_id

**创建时间：**查询选中的记录表中的time_create

**更新时间：**查询选中的记录表中的time_update

**回调参数**：根据选中记录表的visit_data字段进行解析，解析出的键值对就是对应的回调参数

### 5.回调数据

![img](https://cdn.nlark.com/yuque/0/2023/png/32645374/1682063454719-54e290f8-0ec6-4bf3-9fcf-2347cd62feda.png)

#### 筛选条件

- 游戏选择、子游戏
- 设备ID
- 广告ID
- 记录表
- 设备类型
- 广告商
- 创建日期

#### 需要查询并展示的数据

使用到的数据表是open_attribution.at_switch

**游戏：**查询对应记录表的子游戏id

**广告ID:** 查询对应记录表的广告id

**设备类型：**根据筛选条件下的设备类型

**设备ID:**查询选中记录表的device_id

**广告商：**根据筛选条件传过来的

**创建时间：**查询对应记录表中的time_create

**更新时间：**查询对应记录表中的update_create

**回调参数：**根据选中记录表的visit_data字段进行解析，解析出的键值对就是对应的回调参数

### 6.回调渠道数据

![img](https://cdn.nlark.com/yuque/0/2023/png/32645374/1682063455716-e72210f9-9e35-4f7e-842a-815cf95ca22c.png)

#### 筛选条件

- 游戏选择、子游戏
- 渠道类型、渠道、渠道子账号
- 广告商
- 回调状态
- 广告ID
- 创建日期

#### 需要查询并展示的数据

使用的数据库表是call_back

**记录数量**：日志记录的条数

**ID**：回调表的ID

**游戏：**根据回调表的子游戏id查询对应的子游戏名

**所属渠道：**根据回调表的渠道id查询对应的渠道名

**广告ID:**根据回调表查询对应的deal_id

**回调渠道：**根据回调表查询对应的callback_channel字段

**回调类型：**根据回调表查询对应的event_type字段

**回调状态：**根据回调表查询对应的callback_state字段（state=2成功、state=3失败，剩下的就是代回调）

**回调次数：**根据回调表查询对应的callback_num字段

**创建时间：**根据回调表查询对应的time_create字段

**更新时间：**根据回调表查询对应的time_update字段

**回调参数：**根据回调表查询对应的callback_data字段

**操作：**根据对应的回调表的event_type决定是哪个操作

- 激活
- 注册
- 付费